let productsList = [
    {
        brand: "A. C. Automation Products ",
        categories: [
            {
                title: "Aireka",
                page_link: " /pages/aireka.html",
                categories: [
                    {
                        title: "Condensate Separators",
                        img: " /media/images/aireka-condensate-seprators.png",
                        page_link:
                            " /product/aireka/condensate-separators.html",
                    },
                    {
                        title: "Cooling Tubes",
                        img: " /media/images/aireka-cooling-tubes.jpg",
                        page_link: " /product/aireka/cooling-tubes.html",
                    },
                    {
                        title: "Electronically-controlled Pneumatic Coolers",
                        img: " /media/images/aireka-ec.png",
                        page_link:
                            " /product/aireka/electrically-controlled-pneumatic-cooler.html",
                    },
                    {
                        title: "Air Amplifiers",
                        img: " /media/images/aireka-air-amplifiers.png",
                        page_link: " /product/aireka/air-amplifiers.html",
                    },
                    {
                        title: "Air Knife",
                        img: " /media/images/aireka-air-knife.jpg",
                        page_link: " /product/aireka/air-knife.html",
                    },
                    {
                        title: "Special Nozzles",
                        img: " /media/images/aireka-special-noz.png",
                        page_link: " /product/aireka/special-nozzles.html",
                    },
                ],
            },
            {
                title: "FEZER VACUUM LIFTERS",
                page_link: " /pages/fezer.html",
                categories: [
                    {
                        title: "Metal Sheets",
                        img: " /media/images/fezer/fezer-head-image.jpg",
                        page_link:
                            " /product/fezer-vaccum-lifters/metal-sheets.html",
                    },
                    {
                        title: "Cardboard Boxes",
                        img: " /media/images/fezer/fezer-cardboard-boxes.jpg",
                        page_link:
                            " /product/fezer-vaccum-lifters/cardboard-boxes.html",
                    },
                    {
                        title: "Sacks",
                        img: " /media/images/fezer/fezer-sacks.jpg",
                        page_link: " /product/fezer-vaccum-lifters/sacks.html",
                    },
                    {
                        title: "Wood",
                        img: " /media/images/fezer/fezer-wood.jpg",
                        page_link: " /product/fezer-vaccum-lifters/wood.html",
                    },
                    {
                        title: "Glass",
                        img: " /media/images/fezer/fezer-glass.jpg",
                        page_link: " /product/fezer-vaccum-lifters/glass.html",
                    },
                    {
                        title: "Coils / Split strips",
                        img: " /media/images/fezer/fezer-coils-split-strips.jpg",
                        page_link:
                            " /product/fezer-vaccum-lifters/coils-split-strips.html",
                    },
                    {
                        title: "Pipes, Tubes",
                        img: " /media/images/fezer/fezer-pipes-tubes.jpg",
                        page_link:
                            " /product/fezer-vaccum-lifters/pipes-tubes.html",
                    },
                    {
                        title: "Stone, Concrete",
                        img: " /media/images/fezer/fezer-stone.jpg",
                        page_link:
                            " /product/fezer-vaccum-lifters/stone-concrete.html",
                    },
                ],
            },
            {
                title: "STABILUS/HAHN",
                page_link: " /pages/hahn.html",
                categories: [
                    {
                        title: "Gas Springs",
                        img: " /media/images/hahn_gas_spring.png",
                        page_link: " /pages/hahn_gas_spring.html",
                    },
                    {
                        title: "Tension Springs",
                        img: " /media/images/hahn_tension_spring.png",
                        page_link: " /pages/hahn_tension_spring.html",
                    },
                    {
                        title: "Locking Gas Springs",
                        img: " /media/images/lockable_gas_spring.png",
                        page_link: " /pages/hahn_lockable_gas_spring.html",
                    },
                    {
                        title: "Dampers",
                        img: " /media/images/dampers.png",
                        page_link: " /pages/hahn_dampers.html",
                    },
                    {
                        title: "Double Stroke Gas Springs",
                        img: " /media/images/double_stroke_gas_spring.png",
                        page_link: " /pages/hahn_double_stroke_gas_spring.html",
                    },
                    {
                        title: "Sliding Door Dampers",
                        img: " /media/images/sliding_door.jpg",
                        page_link: " /pages/hahn_sliding_door.html",
                    },
                    {
                        title: "Gas Springs With Ball Point Principle",
                        img: " /media/images/ballpointpen.jpg",
                        page_link:
                            " /pages/gas-springs-with-ballpoint-pen-principle.html",
                    },
                    {
                        title: "Connectors",
                        img: " /media/images/HAHN_ACC_CONNECTORS1.jpg",
                        page_link: " /pages/hahn-connectors.html",
                    },
                    {
                        title: "Mounting Brackets",
                        img: " /media/images/hahn_acc_mounting_brackets_05.jpg",
                        page_link: " /pages/hahn-mounting-brackets.html",
                    },
                    {
                        title: "Release System",
                        img: " /media/images/hahn_accessries.jpg",
                        page_link: " /pages/hahn-release-system.html",
                    },
                    {
                        title: "Extras",
                        img: " /media/images/hahn_acc_extras_10.jpg",
                        page_link: " /pages/hahn-extra.html",
                    },
                ],
            },
            {
                title: "YPC",
                page_link: " /pages/ypc.html",
                categories: [
                    {
                        title: "YSV Series",
                        img: " /media/images/ypc/YSV200.jpg",
                        page_link: " /product/ypc/ysv-series.html",
                    },
                    {
                        title: "SF Series",
                        img: " /media/images/ypc/SF1000.jpg",
                        page_link: " /product/ypc/sf-series.html",
                    },
                    {
                        title: "SC Series",
                        img: " /media/images/ypc/SC200.jpg",
                        page_link: " /product/ypc/sc-series.html",
                    },
                    {
                        title: "Converter & Booster ",
                        img: " /media/images/ypc/precompressed_booster.jpg",
                        page_link: " /product/ypc/converter-booster.html",
                    },
                    {
                        title: "SN Series ( Namur Valve )",
                        img: " /media/images/ypc/SN3000.jpg",
                        page_link: " /product/ypc/sn-series.html",
                    },
                    {
                        title: "SIV Series (ISO Valves) ",
                        img: " /media/images/ypc/SIV200.jpg",
                        page_link: " /product/ypc/siv-series.html",
                    },
                ],
            },
            {
                title: "IZMAC SHOCK ABSORBERS",
                page_link: " /product/izmac/izmac.html",
                categories: [
                    {
                        title: "Hydraulic Buffer",
                        img: " /media/images/izmac/Hydraulic-Buffer.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Shock Absorber",
                        img: " /media/images/izmac/shock-absorber.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Shock Damper Rate Control",
                        img: " /media/images/izmac/shock-Damper-Rate-Control.jpg",
                        page_link: "#",
                    },
                ],
            },
            {
                title: "DESCHNER",
                page_link: " /pages/deschner.html",
                categories: [
                    {
                        title: "Cushioneer Shock Absorbers",
                        img: " /media/images/deschner/cushioneer.jpg",
                        page_link:
                            " /product/deschner/cushioneer-shock-absorbers.html",
                    },
                    {
                        title: "Impacta Series Shock Absorbers",
                        img: " /media/images/deschner/impacta-main-image3.jpg",
                        page_link:
                            " /product/deschner/impacta-series-shock-absorbers.html",
                    },
                    {
                        title: "Kinechek Speed Regulators",
                        img: " /media/images/deschner/kinechek.jpg",
                        page_link:
                            " /product/deschner/kinechek-speed-regulators.html",
                    },
                    {
                        title: "Cushion-Start Kinechek",
                        img: " /media/images/deschner/Cushion-Start-ali.jpg",
                        page_link:
                            " /product/deschner/cushion-start-kinechek.html",
                    },
                    {
                        title: "Slow Return Kinecheks",
                        img: " /media/images/deschner/Slow-Return-343x500.jpg",
                        page_link:
                            " /product/deschner/slow-return-kinecheks.html",
                    },
                    {
                        title: "Skipchek Kinecheks",
                        img: " /media/images/deschner/sk-SKIPCHEK-FUNCTION-DIAGRAM.jpg",
                        page_link: " /product/deschner/skipchek-kinecheks.html",
                    },
                    {
                        title: "Peckchek Kinecheks",
                        img: " /media/images/deschner/peck-control-blogger2-sm--500x355.jpg",
                        page_link: " /product/deschner/peckchek-kinecheks.html",
                    },
                    {
                        title: "Dual Speed Mini-K Kinechek",
                        img: " /media/images/deschner/ds-DUAL-SPEED-MINI-K_main_img-387x500.jpg",
                        page_link:
                            " /product/deschner/dual-speed-mini-K-kinechek.html",
                    },
                    {
                        title: "Super K and Mini K Kinecheks",
                        img: " /media/images/deschner/superKminiK.png",
                        page_link:
                            " /product/deschner/super-k-and-mini-k-kinecheks.html",
                    },
                ],
            },
            {
                title: "MEDAN",
                page_link: " /pages/medan.html",
                categories: [
                    {
                        title: "Rodless cylinders",
                        img: " /media/images/medan/rodless-cylinder.jpg",
                        page_link: " /product/medan/rodless-cylinder.html",
                    },
                    {
                        title: "ISO cylinder",
                        img: " /media/images/medan/iso-cylinder.jpg",
                        page_link: " /product/medan/iso-cylinder.html",
                    },
                    {
                        title: "Clamping cylinder",
                        img: " /media/images/medan/clamping-cylinder.jpg",
                        page_link: " /product/medan/clamping-cylinder.html",
                    },
                    {
                        title: "Stopper cylinder",
                        img: " /media/images/medan/stopper-cylinder.jpg",
                        page_link: " /product/medan/stopper-cylinder.html",
                    },
                    {
                        title: "Rotary actuators",
                        img: " /media/images/medan/rotary-actuators.jpg",
                        page_link: " /product/medan/rotary-actuators.html",
                    },
                    {
                        title: "Gripper",
                        img: " /media/images/medan/gripper.jpg",
                        page_link: " /product/medan/gripper.html",
                    },
                    {
                        title: "Timing belt axes",
                        img: " /media/images/medan/timing_belt_axes_280x280.png",
                        page_link: " /product/medan/timing-belt-axes.html",
                    },
                    {
                        title: "Spindle axes",
                        img: " /media/images/medan/spindle-axes_280x280.png",
                        page_link: " /product/medan/spindle-axes.html",
                    },
                    {
                        title: "Heavy-duty axles",
                        img: " /media/images/medan/heavy-duty-axles_280x280.png",
                        page_link: " /product/medan/heavy-duty-axles.html",
                    },
                    {
                        title: "Boom axles",
                        img: " /media/images/medan/boom-axles_280x280.png",
                        page_link: " /product/medan/boom-axles.html",
                    },
                    {
                        title: "Pneumatic hoses",
                        img: " /media/images/medan/UM_Tube_280x280.png",
                        page_link: " /product/medan/pneumatic-hoses.html",
                    },
                    {
                        title: "Pneumatic fittings",
                        img: " /media/images/medan/pisco-standard-fittings.png",
                        page_link: " /product/medan/pneumatic-fittings.html",
                    },
                    {
                        title: "Functional screw connections",
                        img: " /media/images/medan/pisco-regulators_280x280.png",
                        page_link: " /product/medan/functional-screw-connections.html",
                    },
                    {
                        title: "Foot valves",
                        img: " /media/images/medan/MVFA_280x280.png",
                        page_link: " /product/medan/foot-valves.html",
                    },
                    {
                        title: "Hand lever valves",
                        img: " /media/images/medan/MVHB-220_280x280.jpg",
                        page_link: " /product/medan/hand-lever-valves.html",
                    },
                    {
                        title: "Lever valves",
                        img: " /media/images/medan/MVMA-260_280x280.jpg",
                        page_link: " /product/medan/lever-valves.html",
                    },
                    {
                        title: "ISO valves",
                        img: " /media/images/medan/MVSI-260_280x280.jpg",
                        page_link: " /product/medan/iso-valves.html",
                    },
                    {
                        title: "Solenoid valves",
                        img: " /media/images/medan/MVSC1-150_280x280.jpg",
                        page_link: " /product/medan/solenoid-valves.html",
                    },
                    {
                        title: "Namur valves",
                        img: " /media/images/medan/MVSN-220_280x280.jpg",
                        page_link: " /product/medan/namur-valves.html",
                    },
                    {
                        title: "Pilot valves",
                        img: " /media/images/medan/MPC_280x280.jpg",
                        page_link: " /product/medan/pilot-valves.html",
                    },
                    {
                        title: "Start valves",
                        img: " /media/images/medan/MVHR-2_280x280.jpg",
                        page_link: " /product/medan/start-valves.html",
                    },
                    {
                        title: "Touch valves",
                        img: " /media/images/medan/MVHA-2-3_280x280.jpg",
                        page_link: " /product/medan/touch-valves.html",
                    },
                    {
                        title: "Pressure regulator",
                        img: " /media/images/medan/MAR100_280x280.jpg",
                        page_link: " /product/medan/pressure-regulator.html",
                    },
                    {
                        title: "Filter",
                        img: " /media/images/medan/MAF200_280x280.jpg",
                        page_link: " /product/medan/filter.html",
                    },
                    {
                        title: "Filter regulator",
                        img: " /media/images/medan/MAFR100_280x280.jpg",
                        page_link: " /product/medan/filter-regulator.html",
                    },
                    {
                        title: "Combi maintenance unit",
                        img: " /media/images/medan/MACP200_280x280.jpg",
                        page_link: " /product/medan/combi-maintenance-unit.html",
                    },
                    {
                        title: "Proportional pressure regulator",
                        img: " /media/images/medan/MAER_side_application_280x280.jpg",
                        page_link: " /product/medan/proportional-pressure-regulator.html",
                    },
                    {
                        title: "Precision pressure regulator",
                        img: " /media/images/medan/MAIR-MP43_280x280.jpg",
                        page_link: " /product/medan/precision-pressure-regulator.html",
                    },
                ],
            },
            {
                title: "VUOTOTECNICA VACUUM",
                page_link: " /product/vuototecnica/vuototecnica.html",
                categories: [
                    {
                        title: "Vacuum Cups",
                        img: " /media/images/vuototecnica/vaccum_cups.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Vacuum Cups with Support",
                        img: " /media/images/vuototecnica/vaccum_cups_with_support.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Vacuum Switches",
                        img: " /media/images/vuototecnica/Vacuum_Switch.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Direct Operating Vacuum Valves ",
                        img: " /media/images/vuototecnica/direct_operating_vaccum_valves.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Vacuum Solenoid Valves 3/2way",
                        img: " /media/images/vuototecnica/vaccum_solenoid.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Suction Filters ",
                        img: " /media/images/vuototecnica/suction_filters.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Long Operation Suction Filters",
                        img: " /media/images/vuototecnica/long_operation_suction_filters.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Integrated Vacuum Handling Systems",
                        img: " /media/images/vuototecnica/integrated_vaccum_handling_systems.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Vacuum Cylinders",
                        img: " /media/images/vuototecnica/vaccum_cyilnders.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Bellow Vacuum Cups",
                        img: " /media/images/vuototecnica/bellow_vaccum_cups.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Vane type Dry Vacuum Pumps",
                        img: " /media/images/vuototecnica/vane_type_Vacuum_Pump.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Oil-Bath Vacuum Pumps",
                        img: " /media/images/vuototecnica/oil_bath_vaccum_pump.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Vacuum Pumpsets",
                        img: " /media/images/vuototecnica/vaccum_pumpset.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Pneumatic Vacuum Pumpsets",
                        img: " /media/images/vuototecnica/pneumatic_vaccum_pumpset.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Vacuum Generators",
                        img: " /media/images/vuototecnica/vaccum_generators.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Pneumatic Vacuum Pumps",
                        img: " /media/images/vuototecnica/Pneumatic_Vacuum_Pumps.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Adjustable Vacuum Generators",
                        img: " /media/images/vuototecnica/Adjustable_Vacuum_Generators.jpg",
                        page_link: "#",
                    },
                    {
                        title: "Degassing Unit",
                        img: " /media/images/vuototecnica/Degassing_Unit.jpg",
                        page_link: "#",
                    },
                ],
            },
        ],
    },
];
console.log(window.location.pathname);

let productsDashboard = (productData, productList = productsList) => `
<div class="flex bg-gray-700 z-20 h-screen">
    <div id="toggleItem"
        class="flex h-full w-full hidden sm:block sm:w-2/5 flex-col justify-between bg-gray-800 sm:ml-0 z-20">
        <div class="px-4 py-6 h-auto sm:h-full w-full overflow-y-scroll">
            <span
                class="grid h-10 w-16 sm:w-32 place-content-center rounded-lg bg-gray-100 text-xs text-gray-600 text-center mx-auto font-medium">
                Products
            </span>

            <div id="toggleBtn" class="sm:hidden flex justify-end text-white">
                Close
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-x">
                    <path d="M18 6 6 18" />
                    <path d="m6 6 12 12" />
                </svg>
            </div>
            <ul class="mt-6 space-y-2">
                ${productsList
                    .map(
                        (item) => `
                <li class="border-b-2 border-cyan-900">
                    <details class="group [&_summary::-webkit-details-marker]:hidden" open>
                        <summary
                            class="flex cursor-pointer items-center justify-between rounded-lg px-4 py-2 text-white hover:bg-gray-100 hover:text-gray-700">
                            <span class="text-sm font-medium">
                                ${item.brand}
                            </span>

                            <span class="shrink-0 transition duration-300 group-open:-rotate-180">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                                    fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                        clip-rule="evenodd" />
                                </svg>
                            </span>
                        </summary>

                       <ul class="mt-2 space-y-1 px-4">
    ${item.categories
        .map((scat) => {
            const currentPageName = scat.page_link.split("/").pop();
            const regex = new RegExp(`${currentPageName}$`, "i");
            const isActive = regex.test(window.location.pathname);

            // Check if the category has sub-categories
            const subCategories = scat.categories
                ? `<ul class="mt-2 space-y-1 px-4">
                    ${scat.categories
                        .map((subCat) => {
                            const subPageName = subCat.page_link.split("/").pop();
                            const subRegex = new RegExp(`${subPageName}$`, "i");
                            const isSubActive = subRegex.test(window.location.pathname);

                            return `
                            <li>
                                <a href="${subCat.page_link}"
                                    class="block rounded-lg px-4 py-2 text-sm font-medium ${
                                        isSubActive
                                            ? "text-gray-700 bg-gray-100"
                                            : "text-gray-400 hover:bg-gray-100 hover:text-gray-700"
                                    }">
                                    ${subCat.title}
                                </a>
                            </li>`;
                        })
                        .join("")}
                  </ul>`
                : "";

            return `
            <li>
                <details class="group" ${subCategories ? "" : "open"}>
                    <summary
                        class="flex items-center justify-between block rounded-lg px-4 py-2 text-sm font-medium ${
                            isActive
                                ? "text-gray-700 bg-gray-100"
                                : "text-gray-400 hover:bg-gray-100 hover:text-gray-700"
                        } cursor-pointer">
                        ${scat.title}
                        <span class="ml-2 transition-transform transform group-open:rotate-180">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                    clip-rule="evenodd" />
                            </svg>
                        </span>
                    </summary>
                    ${subCategories}
                </details>
            </li>
            `;
        })
        .join("")}
</ul>



                    </details>
                </li>
                `
                    )
                    .join("")}
            </ul>

                    
        </div>
    </div>
    <div id="innerBody" class="sm:block bg-gray-100 h-full overflow-auto w-full p-4 z-0 relative">
        <div id="toggleBtn2" class="flex justify-end">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="lucide lucide-menu">
                <line x1="4" x2="20" y1="12" y2="12" />
                <line x1="4" x2="20" y1="6" y2="6" />
                <line x1="4" x2="20" y1="18" y2="18" />
            </svg>
        </div>

        ${productData.map(
            (item) => `
        <div class="font-medium text-3xl PD800 my-2 mb-5 mx-auto text-center">
            
            <span id="title-card" class="capitalize  ">${item.brand}  </span>
        </div>

        <div class="flex flex-wrap gap-4 justify-center">
            ${item.categories
                .map(
                    (scat) => `
            <div class="w-40 sm:w-52 rounded-md bg-white shadow-lg border border-slate-300 p-1">
                <a href=${scat.page_link}>
                    <img src=${scat.img} alt="Laptop" class="h-36 w-full rounded-md object-contain" />
                    <div class="p-4">
                        <h1 class="text-sm font-medium MMedium">
                            ${scat.title}
                        </h1>
                    </div>
                </a>
            </div>
            `
                )
                .join("")}

        </div>
        `
        )}


    </div>
</div>
`;

// document.querySelectorAll("a").forEach((item) => { //
// item.addEventListener( // "click", // () => { // console.log(item.innerText); //
// let innerBody = document.getElementById("title-card"); // innerBody.innerText =
// item.innerText; // }, // false // ); // });
